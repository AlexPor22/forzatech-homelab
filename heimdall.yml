services:
  heimdall:  # Nombre del servicio
    image: lscr.io/linuxserver/heimdall:latest  # Imagen oficial de LinuxServer.io
    container_name: heimdall  # Nombre personalizado del contenedor
    restart: unless-stopped  # Se reinicia automáticamente si falla o reinicia el servidor

    security_opt:
      - no-new-privileges:true  # Evita que el contenedor escale privilegios

    environment:
      - PUID=1000  # Usuario que ejecuta el contenedor
      - PGID=1000  # Grupo asociado
      - TZ=America/El_Salvador  # Zona horaria para logs y configuraciones

    volumes:
      - /etc/localtime:/etc/localtime:ro  # Sincroniza hora del host
      - /datos/heimdall/config:/config  # Carpeta donde se guarda configuración y base de datos

    ports:
      - "90:80"     # Acceso HTTP → http://IP_DEL_SERVIDOR:90
      - "4431:443"  # Acceso HTTPS → https://IP_DEL_SERVIDOR:4431
